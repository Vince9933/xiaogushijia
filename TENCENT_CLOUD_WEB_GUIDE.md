# 腾讯云网页版部署指南

**适用人群**：不熟悉命令行操作，只使用腾讯云网页控制台的用户

## 🎯 目标
通过腾讯云网页控制台，将您的React项目部署到腾讯云服务器上，并成功访问。

## 📋 准备工作

### 1. 登录腾讯云控制台
- 访问：https://console.cloud.tencent.com/
- 使用您的腾讯云账号登录

### 2. 购买云服务器
1. 点击左侧菜单：**云服务器 CVM**
2. 点击 **新建实例**
3. **基础配置**：
   - 地域：选择靠近您的地区（如：上海、广州）
   - 机型：选择 **标准型S5**（1核2G，足够小项目使用）
   - 镜像：选择 **Ubuntu 20.04 LTS 64位**（新手友好）
   - 系统盘：选择 **50GB SSD云硬盘**
4. **网络与安全组**：
   - 带宽：选择 **按流量计费**，设置为 **1Mbps**
   - 安全组：点击 **新建安全组** → **确定**（默认开放22端口）
5. **登录设置**：
   - 选择 **设置密码**
   - 输入密码并确认（记好这个密码！）
6. **实例名称**：输入您喜欢的名称（如：story-book）
7. 点击 **立即购买** → **确认订单**

### 3. 等待服务器创建完成
- 返回 **云服务器 CVM** → **实例**
- 等待实例状态变为 **运行中**（约2-5分钟）

## 🛡️ 配置安全组
安全组是腾讯云的防火墙，需要开放3000端口供应用访问：

1. 点击左侧菜单：**安全组**
2. 找到您刚创建的安全组，点击右侧 **配置规则**
3. 点击 **入站规则** → **添加规则**
4. 填写：
   - 类型：**自定义TCP**
   - 源：**0.0.0.0/0**（允许所有IP访问）
   - 端口：**3000**
   - 策略：**允许**
5. 点击 **确定**

## 💻 登录服务器

1. 返回 **云服务器 CVM** → **实例**
2. 找到您的服务器，点击右侧 **登录**
3. 选择 **腾讯云网页控制台登录**
4. 输入您设置的密码，点击 **登录**
5. 等待几秒，您将看到一个黑色的命令行窗口

## 📦 安装Node.js环境

1. 在命令行窗口中，依次输入以下命令（**每行输入后按回车**）：
   ```bash
   # 更新系统（等待完成）
   apt update -y
   
   # 安装Node.js 18版本（等待完成）
   curl -fsSL https://deb.nodesource.com/setup_18.x | bash -
   apt install -y nodejs
   
   # 验证安装（查看版本号）
   node -v
   npm -v
   ```

2. 如果看到版本号，说明安装成功！

## 📤 上传项目文件

1. 在命令行窗口顶部，点击 **文件** 按钮
2. 点击 **上传文件**
3. 在本地电脑中，找到您的项目文件夹，选择以下文件：
   - `package.json`
   - `server.js`
   - `vite.config.ts`
   - `tsconfig.json`
   - `tailwind.config.js`
   - `postcss.config.js`
   - `index.html`
4. 点击 **确定** 上传

5. 上传 `src` 目录：
   - 在本地将 `src` 文件夹压缩为 ZIP 文件（如：src.zip）
   - 在腾讯云网页控制台，点击 **上传文件**，上传 `src.zip`
   - 上传完成后，在命令行窗口输入：
     ```bash
     # 安装解压工具
     apt install -y unzip
     
     # 解压src目录
     unzip src.zip
     ```

## 🏗️ 构建项目

在命令行窗口中，依次输入以下命令：

1. **进入项目目录**（假设您上传到了根目录）：
   ```bash
   cd /home/ubuntu
   ```

2. **安装依赖**（等待完成）：
   ```bash
   npm install
   ```

3. **构建项目**（使用Linux专用脚本）：
   ```bash
   npm run build:npm
   ```

## 🚀 启动项目

1. 在命令行窗口中输入：
   ```bash
   npm start
   ```

2. 等待几秒，看到类似以下内容，说明启动成功：
   ```
   Server running on port 3000
   ```

## ✅ 验证部署成功

1. 打开您的浏览器
2. 输入：`http://您的服务器公网IP:3000`
   - **公网IP在哪里看？**：在腾讯云控制台 → 云服务器 → 实例列表中，找到 **公网IP** 列
3. 如果能看到您的项目页面，说明部署成功！

## 📝 重要注意事项

### 1. 关于命令的使用
- **必须使用 `npm` 命令**，不能使用 `pnpm` 命令（因为您的项目已修改）
- 正确：`npm install`、`npm run build:npm`、`npm start`
- 错误：`pnpm install`、`pnpm build`、`pnpm start`

### 2. 构建命令选择
- 服务器是Linux系统，**必须使用 `npm run build:npm`**
- 不能使用 `npm run build`（这是Windows专用命令）

### 3. 常见问题

#### 问题：页面无法访问
- **检查1**：安全组是否开放3000端口？
  - 解决：按照「配置安全组」步骤重新设置

- **检查2**：服务是否正在运行？
  - 解决：在命令行窗口重新输入 `npm start`

- **检查3**：公网IP是否正确？
  - 解决：在腾讯云控制台确认公网IP

#### 问题：上传文件失败
- **解决**：
  - 文件大小不要超过1GB
  - 网络不稳定时，尝试分批上传
  - 压缩大文件后上传

#### 问题：命令执行失败
- **解决**：
  - 检查命令是否输入正确
  - 检查是否有拼写错误
  - 检查网络是否正常

## 🔄 重新部署（更新项目）

1. 停止当前运行的服务：
   - 在命令行窗口按 `Ctrl + C`

2. 重新上传修改后的文件：
   - 重复「上传项目文件」步骤

3. 重新构建和启动：
   ```bash
   npm run build:npm
   npm start
   ```

## 📞 求助方式

如果遇到问题，可以：
1. 查看腾讯云官方文档
2. 联系腾讯云客服
3. 复制命令行窗口中的错误信息，搜索解决方案

---

**祝您部署成功！🎉**